<!DOCTYPE html>
<html>
<style>
  html,
  body {
    margin: 0 !important;
    padding: 0 !important;
    overflow: scroll !important;
    width: 100%;
  }
</style>

<head>
  <title>Video Uploader</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>

  <!--<script src="/lib/RecordRTC.js"></script>
  <script src="/lib/adapter-latest.js"></script>-->

  <script type="text/Javascript" src="https://vjs.zencdn.net/6.9.0/video.min.js"></script>
  <script type="text/Javascript" src="https://cdn.webrtc-experiment.com/RecordRTC.js"></script>
  <script type="text/Javascript" src="https://webrtc.github.io/adapter/adapter-latest.js"></script>

  <link href="https://vjs.zencdn.net/6.9.0/video-js.min.css" rel="stylesheet">
  <link href="../dist/css/videojs.record.min.css" rel="stylesheet">

  <script type="text/Javascript" src="../js/videojs.record.recorderjs.js"></script>

  <script type="text/Javascript" src="../js/videojs.record.min.js"></script>

  <script>
    // disable analytics tracking (note: used in vjs.zencdn.net CDN-hosted version
    // of video.js only, see https://github.com/videojs/video.js#quick-start)
    window.HELP_IMPROVE_VIDEOJS = false;
  </script>

  <!--Import Google Icon Font-->
  <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/css/materialize.min.css">

  <link rel="stylesheet" type="text/css" href="/stylesheets/index.css">


  <style>
    /* change player background color */

    #myVideo {
      background-color: #1a535c;
    }
  </style>
</head>

<body>
  <div class="navbar-fixed">
    <nav>
      <div class="nav-wrapper">
        <a href="http://silverpond.com.au/" class="brand-logo left" target="_blank">
          <img class="logo-brand" src="https://futurism.com/wp-content/themes/futurism/images/futurismlogo.svg?v=3">
        </a>
      </div>
    </nav>
    <!-- end nav -->
  </div>

  <div class="container">

    <div class="row">

      <div class="col s12 m6">

        <div class="uploadBox">
          <h3>Video Uploader</h3>

          <div class="first-content row">
            <div class="file-field input-field">
              <div class="btn attach-file">
                <span>
                  <i class="material-icons">attach_file</i>
                </span>
                <input id="fileBox" type="file" accept="video/mp4,video/x-m4v,video/*">
              </div>
              <div class="file-path-wrapper">
                <input id="fileBoxLabel" class="file-path validate" type="text" placeholder="Upload a video file">
              </div>
            </div>
          </div>
          <!-- end first-content -->
          <input id="videourl" type="hidden" name="videourl">
          <div class="row">

            <div class="input-field col s12">
              <i class="material-icons prefix">text_fields</i>
              <input id="firstname" id="icon_prefix" type="text" class="validate">
              <label for="icon_prefix">First Name </label>
            </div>

            <div class="input-field col s12">
              <i class="material-icons prefix">text_fields</i>
              <input id="lastname" id="icon_prefix" type="text" class="validate">
              <label for="icon_prefix">Last Name </label>
            </div>

            <div class="input-field col s12">
              <label>Gender</label>
              <select id="gender">
                <option value="male">Male</option>
                <option value="female">Female</option>
              </select>
            </div>

            <div class="input-field col s12">
              <i class="material-icons prefix">text_fields</i>
              <input id="email" id="icon_prefix" type="text" class="validate">
              <label for="icon_prefix">Email </label>
            </div>

            <div class="input-field col s12">
              <i class="material-icons prefix">text_fields</i>
              <input id="mobile" id="icon_prefix" type="text" class="validate">
              <label for="icon_prefix">Mobile </label>
            </div>

            <div class="input-field col s12">
              <i class="material-icons prefix">text_fields</i>
              <input id="title" id="icon_prefix" type="text" class="validate">
              <label for="icon_prefix">Title </label>
            </div>

            <div class="input-field col s12">
              <i class="material-icons prefix">mode_edit</i>
              <textarea id="description" class="materialize-textarea validate"></textarea>
              <label for="description">Description</label>
            </div>

          </div>
          <!-- end row -->

          <div class="row">

            <div class="col s6">
              <label>Privacy Settings</label>
              <select id="privacyStatus">
                <option value="private">Private</option>
                <option value="public">Public</option>
              </select>
            </div>

            <div class="col s6 upload-container">
              <button class="btn waves-effect waves-light publish" id='uploadButton' type="submit" name="action">Upload
                <i class="material-icons right">publish</i>
              </button>
            </div>

          </div>
          <!-- end row -->

        </div>
        <!-- end uploadBox -->

      </div>
      <!-- end col cols12 m6 -->

      <div class="col s12 m6">

        <div id="recentUploads">
          <div class="first-content">
            <h4>Videos Uploaded</h4>
            <p id="empty">No videos uploaded yet</p>
            <ul id="uploads" class="collection"></ul>
          </div>
          <!-- video recorder -->
          <title>Record Your Video</title>
          <h5>Preview Blob during Live Recording</h5>

          <br>

          <video id="myVideo" class="video-js vjs-default-skin"></video>

          <!--/***************************************************** * VIDEO RECORDER * ****************************************************/-->


          <script>
            var 
            var options = {
              controls: true,
              width: 320,
              height: 240,
              fluid: false,
              controlBar: {
                volumePanel: false
              },
              plugins: {
                record: {
                  audio: false,
                  video: true,
                  maxLength: 5,
                  debug: true
                }
              }
            };

            // use correct video mimetype for opera
            if (!!window.opera || navigator.userAgent.indexOf('OPR/') !== -1) {
              options.plugins.record.videoMimeType = 'video/webm\;codecs=vp8'; // or vp9
            }

            var player = videojs("myVideo", options, function () {
              // print version information at startup
              videojs.log('Using video.js', videojs.VERSION,
                'with videojs-record', videojs.getPluginVersion('record'),
                'and recordrtc', RecordRTC.version);
            });

            // error handling
            player.on('deviceError', function () {
              console.warn('device error:', player.deviceErrorCode);
            });

            // user clicked the record button and started recording
            player.on('startRecord', function () {
              console.log('started recording!');
            });

            // user completed recording and stream is available
            player.on('finishRecord', function () {
              // the blob object contains the recorded data that
              // can be downloaded by the user, stored on server etc.
              
              document.getElementById("videourl").value = player.recordedData;
              player.record().saveAs({'video': 'my-video-file-name.webm'});
            });
          </script>

          <!-- video recorder ends -->

        </div>
        <!-- end recentUploads -->

      </div>
      <!-- end cols12 m6 -->

    </div>
    <!-- end row -->

  </div>
  <!-- end container -->

  <footer class="page-footer">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">Over 200,000 people subscribe to our newsletter.</h5>
          <p class="grey-text text-lighten-4 mission">
            <a href="https://futurism.com/about">Our mission is to empower our readers and drive the development of transformative technologies towards maximizing
              human potential -></a>
          </p>
        </div>
        <div class="col l4 offset-l2 s12">
          <img width="150" src="https://futurism.com/wp-content/themes/futurism/images/futurismlogotaglinefooter.png">
          <ul>
            <li>
              <a class="grey-text text-lighten-3" href="https://futurism.com/about">About</a>
            </li>
            <li>
              <a class="grey-text text-lighten-3" href="https://futurism.com/faq/">FAQ</a>
            </li>
            <li>
              <a class="grey-text text-lighten-3" href="https://futurism.com/dmca-policy/">DMCA Policy</a>
            </li>
            <li>
              <a class="grey-text text-lighten-3" href="https://futurism.com/privacy/">Privacy Policy</a>
            </li>
            <p>
              <a class="grey-text text-lighten-3" href="http://creativecommons.org/licenses/by-nc/4.0/">
                <img width="70" src="https://futurism.com/wp-content/themes/futurism/images/cc.svg">
              </a>
            </p>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
        Â© 2017 Copyright
        <a class="grey-text text-lighten-4 right" href="http://www.deakin.edu.au/" target="_blank">Deakin Team</a>
      </div>
    </div>
  </footer>
  <!-- end footer -->


  <!-- Javascript Imports -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.js"></script>
  <script src="/js/index.js"></script>
</body>

</html>